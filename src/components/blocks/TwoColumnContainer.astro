---
import Container from './Container.astro';
import type { ContainerProps } from '../../types/container.types';

interface Props extends Omit<ContainerProps, 'layout' | 'items'> {
  /** Gap between columns (default: 'gap-6') */
  gap?: string;
  /** Responsive behavior (default: false - always side-by-side) */
  responsive?: boolean;
  /** Responsive breakpoint (default: 'md:' - use 'sm:', 'lg:', etc.) */
  breakpoint?: string;
  /** Custom grid classes (overrides responsive default) */
  gridClass?: string;
  /** Reverse order on mobile (default: false) */
  reverseOnMobile?: boolean;
}

const {
  gap = 'gap-6',
  responsive = false,
  breakpoint = 'md:',
  gridClass,
  reverseOnMobile = false,
  ...containerProps
} = Astro.props;

// Build grid classes
let layoutClass =
  gridClass || (responsive ? `grid-cols-1 ${breakpoint}grid-cols-2` : 'grid-cols-2');
layoutClass += ` ${gap}`;

// Handle reverse order on mobile
const column1Class = reverseOnMobile && responsive ? `${breakpoint}order-1 order-2` : '';
const column2Class = reverseOnMobile && responsive ? `${breakpoint}order-2 order-1` : '';
---

<Container
  {...containerProps}
  layout={{
    type: 'grid',
    class: layoutClass,
  }}
>
  <div class={column1Class}>
    <slot name="column1" />
  </div>
  <div class={column2Class}>
    <slot name="column2" />
  </div>
</Container>
