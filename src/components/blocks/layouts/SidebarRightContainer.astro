---
import Container from '~/components/blocks/composite/Container.astro';
import type { SidebarContainerProps } from '~/types/container.types';
import { cn } from '~/utils/styles';

type Props = SidebarContainerProps;

const {
  gap = 'gap-6',
  responsive = false,
  breakpoint = 'md:',
  gridClass,
  ...containerProps
} = Astro.props;

// Build grid classes - use 3fr/1fr for 3/4 and 1/4 split (accounts for gap)
const layoutClass = cn(
  gridClass ||
    (responsive ? `grid-cols-1 ${breakpoint}grid-cols-[3fr_1fr]` : 'grid-cols-[3fr_1fr]'),
  gap
);
---

<Container
  {...containerProps}
  layout={{
    type: 'grid',
    class: layoutClass,
  }}
>
  <div>
    <slot name="main" />
  </div>
  <div>
    <slot name="sidebar" />
  </div>
</Container>
