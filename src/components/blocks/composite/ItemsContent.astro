---
import Container from './Container.astro';
import Headline from './Headline.astro';
import ItemsGrid from './ItemsGrid.astro';
import { cn } from '~/utils/styles';
import merge from 'lodash.merge';
import type { ItemsContentProps } from '~/types/itemscontent.types';
import type { ContainerProps } from '~/types/container.types';
import type { HeadlineProps } from '~/types/headline.types';
import type { ItemsGridProps } from '~/types/itemsgrid.types';

type Props = ItemsContentProps;

const { container, headline, itemsGrid } = Astro.props;

const defaultContainer = {} as ContainerProps;

const defaultHeadline = {} as HeadlineProps;

const defaultItemsGrid = {
  columns: 2,
  defaultItemConfig: {
    layout: 'horizontal',
  },
} as ItemsGridProps;

const mergedContainer = merge({}, defaultContainer, container);
const mergedHeadline = merge({}, defaultHeadline, headline);
const mergedItemsGrid = merge({}, defaultItemsGrid, itemsGrid);
---

<Container {...mergedContainer}>
  <Headline {...mergedHeadline} />
  <div class={cn('mt-6')}>
    <ItemsGrid {...mergedItemsGrid} />
  </div>
</Container>
