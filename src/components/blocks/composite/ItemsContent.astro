---
import Container from '~/components/blocks/layout/Container.astro';
import Headline from '~/components/blocks/primitives/Headline.astro';
import ItemsGrid from '~/components/blocks/composite/ItemsGrid.astro';
import merge from 'lodash.merge';
import type { ItemsContentProps } from '~/types/itemscontent.types';
import type { ItemsGridProps } from '~/types/itemsgrid.types';

type Props = ItemsContentProps;

const { container, headline, itemsGrid } = Astro.props;

const defaultContainer = {};

const defaultHeadline = {};

const defaultItemsGrid: Partial<ItemsGridProps> = {
  columns: 2,
  items: [],
  defaultItemConfig: {
    layout: 'horizontal',
  },
};

const mergedContainer = merge({}, defaultContainer, container);
const mergedHeadline = merge({}, defaultHeadline, headline);
const mergedItemsGrid = merge({}, defaultItemsGrid, itemsGrid);
---

<Container {...mergedContainer}>
  <Headline {...mergedHeadline} />
  <ItemsGrid {...mergedItemsGrid} />
</Container>
