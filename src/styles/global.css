@import url('https://fonts.googleapis.com/css2?family=Kodchasan:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&family=Quicksand:wght@300..700&family=Handlee&display=swap');

@import 'tailwindcss';
@import './colors.css';

@theme inline {
  --font-title: 'Kodchasan', sans-serif;
  --font-subtitle: 'Quicksand', sans-serif;
  --font-body: 'Quicksand', sans-serif;
  --font-quote: 'Handlee', cursive;

  --container-max-width: 1280px;

  /* intent-based colors */
  --color-primary: var(--color-mexican-pink);
  --color-primary-hover: var(--color-mexican-pink-600);
  --color-secondary: var(--color-sage);
  --color-secondary-hover: var(--color-sage-600);
  --color-tertiary: var(--color-slate);
  --color-tertiary-hover: var(--color-slate-600);
  --color-accent: var(--color-peach);
  --color-accent-hover: var(--color-peach-600);

  /* content colors */
  --color-normal: var(--color-text);
  --color-muted: var(--color-subtext0);
  --color-emphasis: var(--color-subtext1);

  /* status colors */
  --color-success: var(--color-green);
  --color-success-hover: var(--color-green-600);
  --color-warning: var(--color-yellow);
  --color-warning-hover: var(--color-yellow-600);
  --color-error: var(--color-red);
  --color-error-hover: var(--color-red-600);
  --color-info: var(--color-cyan);
  --color-info-hover: var(--color-cyan-600);

  /* surface colors */
  --color-background: var(--color-base);
  --color-surface: var(--color-mantle);
  --color-elevated: var(--color-crust);

  /* border colors */
  --color-border: var(--color-surface2);
  --color-border-emphasis: var(--color-overlay0);

  /* interactive states */
  --color-interactive: var(--color-primary);
  --color-interactive-hover: var(--color-blue-600);

  /* link colors */
  --color-link: var(--color-primary);
  --color-link-hover: var(--color-primary);

  /* Code/syntax */
  --color-code: var(--color-lavender);
  --color-code-bg: var(--color-surface0);
}

@layer base {
  ::selection {
    @apply bg-accent text-background;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-background text-normal font-body min-h-screen antialiased tracking-tight;
    font-size: clamp(1rem, 0.95rem + 0.25vw, 1.125rem); /* 16px → 18px */
    line-height: 1.6;
  }

  h1 {
    @apply font-bold;
    font-size: clamp(2rem, 1.5rem + 2vw, 3rem); /* 32px → 48px */
    line-height: 1.2;
    margin-top: 2rem;
    margin-bottom: 1rem;
  }

  h2 {
    @apply font-bold;
    font-size: clamp(1.75rem, 1.5rem + 1.25vw, 2.25rem); /* 28px → 36px */
    line-height: 1.25;
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
  }

  h3 {
    @apply font-bold;
    font-size: clamp(1.5rem, 1.35rem + 0.75vw, 1.875rem); /* 24px → 30px */
    line-height: 1.3;
    margin-top: 1.25rem;
    margin-bottom: 0.625rem;
  }

  h4 {
    @apply font-bold;
    font-size: clamp(1.25rem, 1.15rem + 0.5vw, 1.5rem); /* 20px → 24px */
    line-height: 1.3;
    margin-top: 1rem;
    margin-bottom: 0.5rem;
  }

  h5 {
    @apply font-bold;
    font-size: 1.125rem; /* 18px fixed */
    line-height: 1.4;
    margin-top: 0.75rem;
    margin-bottom: 0.375rem;
  }

  h6 {
    @apply font-bold;
    font-size: 1rem; /* 16px fixed */
    line-height: 1.4;
    margin-top: 0.5rem;
    margin-bottom: 0.25rem;
  }

  h1:first-child,
  h2:first-child,
  h3:first-child,
  h4:first-child,
  h5:first-child,
  h6:first-child {
    margin-top: 0;
  }

  p {
    line-height: 1.6;
    margin-bottom: 1rem;
  }

  p:last-child {
    margin-bottom: 0;
  }

  blockquote {
    @apply font-quote border-l-4 border-brown;
    padding-left: 1rem;
    font-style: italic;
    font-size: clamp(1.25rem, 1.15rem + 0.5vw, 1.5rem); /* 20px → 24px */
    line-height: 1.5;
    margin-top: 1.5rem;
    margin-bottom: 1.5rem;
  }

  a {
    @apply text-link hover:text-link-hover hover:underline transition-colors;
  }

  ul {
    @apply list-disc list-inside;
    line-height: 1.6;
    margin-bottom: 1rem;
  }

  ol {
    @apply list-decimal list-inside;
    line-height: 1.6;
    margin-bottom: 1rem;
  }

  ul:last-child,
  ol:last-child {
    margin-bottom: 0;
  }
}

@layer components {
  .subtitle {
    font-size: clamp(1.125rem, 1rem + 0.5vw, 1.375rem); /* 18px → 22px */
    line-height: 1.5;
  }

  .floating-player {
    @apply fixed! bottom-6 right-6 z-50 shadow-2xl transition-none w-80! h-45! rounded-lg overflow-hidden;
  }

  .headline:first-child {
    margin-top: 0;
  }

  .nav-tree-icon {
    transition: transform 0.2s ease-in-out;
  }

  .nav-tree-icon-expanded {
    transform: rotate(90deg);
  }

  [data-nav-item]:hover > [data-nav-dropdown] {
    display: block;
  }

  [data-nav-dropdown]:not(.hidden) {
    display: block;
  }

  /* ContentCarousel styles (consolidated and scoped) */

  .content-carousel {
    display: block;
    position: relative;
    contain: layout inline-size;
    width: 100%;
    max-width: 100%;
    min-width: 0;
    box-sizing: border-box;
  }

  .content-carousel .carousel-viewport {
    width: 100%;
    box-sizing: border-box;
    overflow: hidden;
    min-width: 0;
    contain: layout inline-size;
  }

  .content-carousel .carousel-track {
    width: 100%;
    max-width: 100%;
    display: flex;
    flex-wrap: nowrap;
    box-sizing: border-box;
    min-width: 0;
    transition-property: transform;
  }

  .content-carousel .carousel-track.is-dragging {
    transition-duration: 0ms;
  }

  .content-carousel .carousel-item {
    box-sizing: border-box;
    flex-shrink: 0;
    min-width: 0;
  }

  .content-carousel .carousel-track > .carousel-item,
  .content-carousel .carousel-track > * {
    box-sizing: border-box;
    flex-shrink: 0;
    min-width: 0;
    max-width: 100%;
  }

  .content-carousel .carousel-controls {
    pointer-events: none;
  }

  .content-carousel .carousel-controls > * {
    pointer-events: auto;
  }

  .content-carousel .carousel-indicators button {
    transition: all 0.2s ease;
  }

  .content-carousel .carousel-indicator-btn {
    opacity: 0.7;
  }

  .content-carousel .carousel-indicator-btn[aria-selected='true'] {
    opacity: 1;
    background-color: var(--color-primary) !important;
  }
}

@layer utilities {
  .header-transitions * {
    @apply transition-colors duration-300 ease-in-out;
    transition-property: color, background-color, width, transform, backdrop-filter;
  }
}

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

@source inline('{sm:,md:,lg:,xl:,}grid-cols-{1,2,3,4}');
@source inline('{md:,}grid-cols-[25%_75%]');
@source inline('{md:,}grid-cols-[1fr_3fr]');
@source inline('{md:,}grid-cols-[75%_25%]');
@source inline('{md:,}grid-cols-[3fr_1fr]');
@source inline('{sm:,md:,lg:,xl:,}order-{1,2}');
@source inline('gap-{2,3,4,6,8,12}');
@source inline('{md:,lg:,}gap-{2,3,4,6,8,12}');
@source inline('size-{8,10,12}');
@source inline('{md:,lg:,}size-{8,10,12}');
@source inline('text-{sm,base,lg,xl,2xl}');
@source inline('{md:,lg:,}text-{sm,base,lg,xl,2xl}');
@source inline('mb-{1,2,3}');
@source inline('{md:,}mb-{1,2,3}');
@source inline('mt-{2,3}');
@source inline('{md:,}mt-{2,3}');
