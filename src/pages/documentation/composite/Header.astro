---
import Layout from '../_layouts/Layout.astro';
import HeaderBlock from '~/components/blocks/composite/Header.astro';
import ModalBlock from '~/components/blocks/layout/Modal.astro';
import NavigationTree from '~/components/blocks/composite/NavigationTree.astro';

var metadata = {
  title: {
    default: 'Header',
  },
};

const basicNavItems = [
  { label: 'Home', href: '/' },
  { label: 'About', href: '/about' },
];

const navItemsWithDropdowns = [
  { label: 'Home', href: '/' },
  {
    label: 'Products',
    children: [
      { label: 'Product 1', href: '/products/1' },
      { label: 'Product 2', href: '/products/2' },
      { label: 'Product 3', href: '/products/3' },
    ],
  },
  {
    label: 'Services',
    children: [
      { label: 'Consulting', href: '/services/consulting' },
      { label: 'Development', href: '/services/development' },
      { label: 'Design', href: '/services/design' },
    ],
  },
];
---

<Layout
  metadata={metadata}
  headline={{
    tagline: 'Composite',
    title: 'Header',
    subtitle: 'Site header with logo, navigation, and actions',
  }}
>
  <p>
    Header component combining logo, horizontal navigation menu, theme toggle, and action buttons.
  </p>

  <!-- Example 1: Basic Header -->
  <h3>Basic Header</h3>
  <p>Simple header with logo and navigation.</p>
  <div class="border border-border rounded-lg overflow-hidden">
    <HeaderBlock
      logo={{
        image: {
          src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=200&fit=crop',
          alt: 'Logo',
          width: 48,
          height: 48,
        },
      }}
      navigationRight={{ items: basicNavItems }}
    />
  </div>

  <!-- Example 2: Text Logo -->
  <h3>Text Logo</h3>
  <p>
    Header with text logo instead of image. Defaults to SITE.name from config if not provided. Logo
    is rendered as a Button, so you can use all Button props for styling.
  </p>
  <div class="space-y-6">
    <div>
      <h4>Using SITE.name (default)</h4>
      <div class="border border-border rounded-lg overflow-hidden">
        <HeaderBlock navigationRight={{ items: basicNavItems }} />
      </div>
    </div>
    <div>
      <h4>Custom text</h4>
      <div class="border border-border rounded-lg overflow-hidden">
        <HeaderBlock logo={{ label: 'My Brand' }} navigationRight={{ items: basicNavItems }} />
      </div>
    </div>
    <div>
      <h4>Custom styling with logo</h4>
      <div class="border border-border rounded-lg overflow-hidden">
        <HeaderBlock
          logo={{
            label: 'Styled Brand',
            labelClass: '!text-2xl !font-extrabold !text-primary',
            class: 'hover:scale-105 transition-transform',
          }}
          navigationRight={{ items: basicNavItems }}
        />
      </div>
    </div>
  </div>

  <!-- Example 3: With Theme Toggle -->
  <h3>With Theme Toggle</h3>
  <p>Header with theme toggle button.</p>
  <div class="border border-border rounded-lg overflow-hidden">
    <HeaderBlock
      showThemeToggle
      logo={{
        image: {
          src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=200&fit=crop',
          alt: 'Logo',
          width: 48,
          height: 48,
        },
      }}
      navigationRight={{ items: basicNavItems }}
      themeToggle={{ size: 'md' }}
    />
  </div>

  <!-- Example 4: With Mobile Menu -->
  <h3>With Mobile Menu</h3>
  <p>Header with hamburger menu for mobile (resize browser to see).</p>
  <div class="border border-border rounded-lg overflow-hidden">
    <HeaderBlock
      logo={{
        image: {
          src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=200&fit=crop',
          alt: 'Logo',
          width: 48,
          height: 48,
        },
      }}
      actionsLeft={[
        {
          'data-modal-trigger': 'mobile-menu-basic',
          icon: { name: 'heroicons:bars-3' },
          variant: 'ghost',
          intent: 'neutral',
          class: 'lg:hidden',
        },
      ]}
    />
  </div>

  <ModalBlock id="mobile-menu-basic" position="left" size="sm">
    <div class="p-4">
      <h3>Menu</h3>
      <NavigationTree items={navItemsWithDropdowns} />
    </div>
  </ModalBlock>

  <!-- Example: Actions Spacing -->
  <h3>Actions Spacing</h3>
  <p>
    Control spacing between theme toggle and action buttons using the <code
      class="px-1 py-0.5 bg-muted rounded">actionsAir</code
    > prop.
  </p>
  <div class="space-y-6">
    <div>
      <h4>Tight</h4>
      <div class="border border-border rounded-lg overflow-hidden">
        <HeaderBlock
          showThemeToggle
          actionsAir="tight"
          logo={{
            image: {
              src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=200&fit=crop',
              alt: 'Logo',
              width: 48,
              height: 48,
            },
          }}
          navigationRight={{ items: basicNavItems }}
          actionsRight={[
            { label: 'Login', variant: 'outline', size: 'sm' },
            { label: 'Sign Up', variant: 'solid', size: 'sm' },
          ]}
        />
      </div>
    </div>
    <div>
      <h4>Normal (Default)</h4>
      <div class="border border-border rounded-lg overflow-hidden">
        <HeaderBlock
          showThemeToggle
          actionsAir="normal"
          logo={{
            image: {
              src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=200&fit=crop',
              alt: 'Logo',
              width: 48,
              height: 48,
            },
          }}
          navigationRight={{ items: basicNavItems }}
          actionsRight={[
            { label: 'Login', variant: 'outline', size: 'sm' },
            { label: 'Sign Up', variant: 'solid', size: 'sm' },
          ]}
        />
      </div>
    </div>
    <div>
      <h4>Loose</h4>
      <div class="border border-border rounded-lg overflow-hidden">
        <HeaderBlock
          showThemeToggle
          actionsAir="loose"
          logo={{
            image: {
              src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=200&fit=crop',
              alt: 'Logo',
              width: 48,
              height: 48,
            },
          }}
          navigationRight={{ items: basicNavItems }}
          actionsRight={[
            { label: 'Login', variant: 'outline', size: 'sm' },
            { label: 'Sign Up', variant: 'solid', size: 'sm' },
          ]}
        />
      </div>
    </div>
  </div>

  <!-- Example: Left-side Navigation & Actions -->
  <h3>Left-side Navigation & Actions</h3>
  <p>
    Demonstrates `navigationLeft` and `actionsLeft` to place navigation and actions on the left.
  </p>
  <div class="border border-border rounded-lg overflow-hidden">
    <HeaderBlock
      logo={{
        image: {
          src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=200&fit=crop',
          alt: 'Logo',
          width: 48,
          height: 48,
        },
      }}
      navigationLeft={{ items: basicNavItems }}
      navigationRight={{ items: basicNavItems }}
      actionsLeft={[{ label: 'Docs', variant: 'solid', size: 'sm' }]}
      actionsRight={[{ label: 'Sign In', variant: 'solid', size: 'sm' }]}
      showThemeToggle
    />
  </div>

  <!-- Example 5: Sticky Header -->
  <h3>Sticky Header</h3>
  <p>Header that sticks to top on scroll (scroll down to see effect).</p>
  <div class="border border-border rounded-lg overflow-hidden h-96 overflow-y-scroll">
    <HeaderBlock
      isSticky
      showThemeToggle
      logo={{
        image: {
          src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=200&fit=crop',
          alt: 'Logo',
          width: 48,
          height: 48,
        },
      }}
      navigationRight={{ items: basicNavItems }}
      container={{
        background: { class: 'bg-background/10 backdrop-blur-sm' },
        border: { width: 'border-b', color: 'border-border' },
      }}
    />
    <div class="p-8 bg-surface2/50">
      <p>Scroll down to see the sticky header in action...</p>
      <div class="h-200 flex items-center justify-center">
        <p class="text-muted">Content area</p>
      </div>
    </div>
  </div>

  <!-- Example 6: Floating Header -->
  <h3>6. Floating Header</h3>
  <p>
    Header floats above page content using fixed positioning. Best used on full pages with hero
    sections or full-page layouts.
  </p>
  <p class="text-sm text-muted mb-4">
    Note: <code class="px-1 py-0.5 bg-muted rounded">isFloating</code> uses fixed positioning relative
    to the viewport, making it float above all content and stay visible during scroll. Cannot be demonstrated
    in a scrollable container.
  </p>
  <div class="border border-border rounded-lg overflow-hidden p-4 bg-muted/30">
    <code class="text-sm">
      &lt;Header isFloating showThemeToggle navigationRight=&#123;&#123; items &#125;&#125; /&gt;
    </code>
  </div>

  <!-- Example 7: Vector Logo with Color Inheritance -->
  <h3>7. Vector Logo with Color Inheritance</h3>
  <p>
    Use Vector component for SVG logos that can inherit colors via text classes. Perfect for logos
    that adapt to themes or scroll states.
  </p>
  <div class="border border-border rounded-lg overflow-hidden">
    <HeaderBlock
      logo={{
        vector: {
          src: 'https://www.svgrepo.com/show/530609/compass.svg',
        },
        class: 'text-primary hover:text-accent transition-colors duration-300',
      }}
      navigationRight={{ items: basicNavItems }}
      showThemeToggle
    />
  </div>

  <!-- Example 9: Custom Styling -->
  <h3>Custom Styling</h3>
  <p>Customize container styling with background, borders, and padding.</p>
  <div class="border border-border rounded-lg overflow-hidden">
    <HeaderBlock
      showThemeToggle
      logo={{
        image: {
          src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=200&fit=crop',
          alt: 'Logo',
          width: 48,
          height: 48,
        },
      }}
      navigationRight={{ items: basicNavItems }}
      container={{
        background: { class: 'bg-accent/10 backdrop-blur-sm' },
        border: { width: 'border-b', color: 'border-primary' },
        content: { air: 'loose' },
      }}
      actionsRight={[{ label: 'Get Started', variant: 'solid', intent: 'primary', size: 'sm' }]}
    />
  </div>

  <!-- API Reference -->
  <h3>API Reference</h3>
  <div class="overflow-x-auto">
    <table class="w-full text-left border-collapse">
      <thead>
        <tr class="border-b border-border">
          <th class="py-2 px-4">Prop</th>
          <th class="py-2 px-4">Type</th>
          <th class="py-2 px-4">Default</th>
          <th class="py-2 px-4">Description</th>
        </tr>
      </thead>
      <tbody class="text-sm">
        <tr class="border-b border-border/50">
          <td class="py-2 px-4 font-mono">isSticky</td>
          <td class="py-2 px-4">boolean</td>
          <td class="py-2 px-4">false</td>
          <td class="py-2 px-4">Makes header stick to top on scroll</td>
        </tr>
        <tr class="border-b border-border/50">
          <td class="py-2 px-4 font-mono">isFloating</td>
          <td class="py-2 px-4">boolean</td>
          <td class="py-2 px-4">false</td>
          <td class="py-2 px-4">Floats header above page content (absolute positioning)</td>
        </tr>
        <tr class="border-b border-border/50">
          <td class="py-2 px-4 font-mono">showThemeToggle</td>
          <td class="py-2 px-4">boolean</td>
          <td class="py-2 px-4">false</td>
          <td class="py-2 px-4">Show theme toggle button</td>
        </tr>

        <tr class="border-b border-border/50">
          <td class="py-2 px-4 font-mono">actionsAir</td>
          <td class="py-2 px-4">'none' | 'tight' | 'normal' | 'loose'</td>
          <td class="py-2 px-4">'normal'</td>
          <td class="py-2 px-4">Spacing between theme toggle and action buttons</td>
        </tr>
        <tr class="border-b border-border/50">
          <td class="py-2 px-4 font-mono">container</td>
          <td class="py-2 px-4">ContainerProps</td>
          <td class="py-2 px-4">{}</td>
          <td class="py-2 px-4">Container styling configuration</td>
        </tr>
        <tr class="border-b border-border/50">
          <td class="py-2 px-4 font-mono">logo</td>
          <td class="py-2 px-4">LogoButtonProps</td>
          <td class="py-2 px-4">{}</td>
          <td class="py-2 px-4"
            >Logo configuration with vector (SVG inline), image, or text label. Vector takes
            priority over image.</td
          >
        </tr>
        <tr class="border-b border-border/50">
          <td class="py-2 px-4 font-mono">navigationRight</td>
          <td class="py-2 px-4">NavigationTreeHorizontalProps</td>
          <td class="py-2 px-4">{}</td>
          <td class="py-2 px-4">Navigation menu configuration for the right side</td>
        </tr>
        <tr class="border-b border-border/50">
          <td class="py-2 px-4 font-mono">navigationLeft</td>
          <td class="py-2 px-4">NavigationTreeHorizontalProps</td>
          <td class="py-2 px-4">{}</td>
          <td class="py-2 px-4">Navigation menu configuration for the left side</td>
        </tr>
        <tr class="border-b border-border/50">
          <td class="py-2 px-4 font-mono">themeToggle</td>
          <td class="py-2 px-4">object</td>
          <td class="py-2 px-4">{}</td>
          <td class="py-2 px-4">Theme toggle configuration overrides</td>
        </tr>
        <tr class="border-b border-border/50">
          <td class="py-2 px-4 font-mono">actionsLeft</td>
          <td class="py-2 px-4">ButtonProps[]</td>
          <td class="py-2 px-4">[]</td>
          <td class="py-2 px-4">Action buttons for left section</td>
        </tr>
        <tr class="border-b border-border/50">
          <td class="py-2 px-4 font-mono">actionsRight</td>
          <td class="py-2 px-4">ButtonProps[]</td>
          <td class="py-2 px-4">[]</td>
          <td class="py-2 px-4">Action buttons for right section</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Usage Notes -->
  <h3>Usage Notes</h3>
  <div class="space-y-4 text-sm">
    <div>
      <h4 class="font-semibold mb-2">Mobile Menu Pattern</h4>
      <p class="text-muted-foreground">
        The Header provides the layout and hamburger button, but the mobile menu Modal is placed
        separately. Connect them using <code class="px-1 py-0.5 bg-muted rounded"
          >data-modal-trigger</code
        > attribute on the hamburger button.
      </p>
    </div>
    <div>
      <h4 class="font-semibold mb-2">Sticky Positioning</h4>
      <p class="text-muted-foreground">
        When <code class="px-1 py-0.5 bg-muted rounded">isSticky</code> is enabled, consider adding a
        semi-transparent background with opacity to maintain readability over content.
      </p>
    </div>
  </div>
</Layout>
